<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API request</title>
</head>
<body style="background-color: #414141; color: azure;">
    <div style="background-color: aqua;">
        <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequest</a> <br>
        <a href="https://developer.mozilla.org/en-US/docs/Glossary/AJAX">Ajax Programming</a> <br> <br>
        <a href="https://api.github.com/users/vivek4nag">My github JSON</a>
    </div>
    <div>
        <p>
            XML stands for eXtensible Markup Language.
            XML was designed to store and transport data. <br>
        </p>
        <p>
            What is AJAX?
            AJAX = Asynchronous JavaScript And XML. <br>
            AJAX is not a programming language. <br>
            AJAX just uses a combination of: <br>
            A browser built-in XMLHttpRequest object (to request data from a web server) <br>
            JavaScript and HTML DOM (to display or use the data)
        </p>
    </div>
    <div>
        XML ready state ==> <br>
        0	UNSENT means Client has been created. open() not called yet. <br>
        1	OPENED means	open() has been called. <br>
        2	HEADERS_RECEIVED means	send() has been called, and headers and status are available. <br>
        3	LOADING means	Downloading; responseText holds partial data. <br>
        4	DONE means	The operation is complete. <br>
    </div>
</body>
<script>
    // XML ajax request ke baare me bss knowledge chayhe thodi.. xyda kaam nhi aayga
    // XMLHttpRequest() ==> this object can be used to request data from a web server.
    // below code is basically uses XMLHttpRequest object to make an AJAX request to fetch data from a web server.
    const requestURL = 'https://api.github.com/users/vivek4nag' // defines the URL of the API endpoint you want to fetch data from

    const xhr =  new XMLHttpRequest(); // create a new XMLHttpRequest object (xhr). This object is used to send HTTP requests and receive responses from a web server.

    xhr.open('GET', requestURL) //The open method initializes a new request. It takes two main parameters: 'GET' is used to fetch data & The URL to which the request is sent.

    // The onreadystatechange property defines a function that will be called whenever the readyState of the xhr object changes. The readyState property holds the status of the XMLHttpRequest. the 5 values(0 1 2 3 4) defined above
    xhr.onreadystatechange = function(){
        console.log(xhr.readyState);
        if(xhr.readyState ===4){
            // this.responseText==> This is a property that contains the response data as a string
            const data = JSON.parse(this.responseText) // string data recieve hua hai usko JSON me convert kr rhe
            console.log( typeof data);
            
            console.log(data.followers);
            
        }   
    }
    xhr.send() // This line sends the request to the server. Once sent, the request will trigger the onreadystatechange event handler as the request's state changes.
    
    // basically what we did was ==> Define the API URL you want to request data from. ==> Create a new XMLHttpRequest object. ==> Initialize a request using the open method. ==> Define what should happen when the server's response is ready using onreadystatechange. == > end the request to the server with send().
    // If everything goes well, you receive the data in JSON format, parse it, and log some of the data (like the number of followers) to the console.


</script>
</html>